<!DOCTYPE html>
<html lang="en">
<head>  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' https: http://localhost:* ws://localhost:* wss://localhost:*; img-src 'self' data: https: blob:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'; frame-src 'self' https://www.youtube.com https://youtube.com https://www.youtube-nocookie.com; media-src 'self' data: blob: https:; child-src 'self' https://www.youtube.com https://youtube.com https://www.youtube-nocookie.com;">
  <title>Tyumi</title>
  <meta name="description" content="An open source AI assistant platform that integrates with multiple AI providers including OpenAI, Anthropic, Google, Mistral, xAI, and local Ollama models." />

  <!-- Additional Meta Tags -->
  <meta name="author" content="Dustin Whyte">
  <meta name="keywords" content="AI assistant, Tyumi, AI chatbot, open source AI, OpenAI, Anthropic, Claude, Google Gemini, Mistral, xAI, Grok, Ollama, local AI models, chatbot platform, conversational AI, generative AI, large language model, AI integration, AI web app, AI privacy, AI security, AI productivity, AI tools, AI platform, artificial intelligence" />
  <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="application-name" content="Tyumi">
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tyumi.app/">
  <meta property="og:title" content="Tyumi - Open Source AI Assistant Platform">
  <meta property="og:description" content="An open source AI assistant platform integrating with OpenAI, Anthropic, Google, Mistral, xAI and local Ollama models.">
  <meta property="og:image" content="https://tyumi.app/logo.jpg">
  <meta property="og:site_name" content="Tyumi">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://tyumi.app/">
  <meta name="twitter:title" content="Tyumi - Open Source AI Assistant Platform">
  <meta name="twitter:description" content="An open source AI assistant platform integrating with OpenAI, Anthropic, Google, Mistral, xAI and local Ollama models.">
  <meta name="twitter:image" content="https://tyumi.app/logo.jpg">

  <!-- Mobile Web App -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Tyumi">
  
  <link rel="icon" type="image/x-icon" href="/src/assets/img/favicon.ico">

  <!-- Link to modular CSS -->
  <link rel="stylesheet" href="src/css/main.css" />

  <!-- DOMPurify for sanitizing HTML -->
  <script src="src/js/lib/purify.min.js"></script>

  <!-- Configuration file (ensure this is loaded first) -->
  <script src="src/config/config.js"></script>
  <!-- Load utility functions first -->  
  <script src="src/js/utils/utils.js"></script>
  <script src="src/js/utils/highlight.js"></script>
  <script src="src/js/utils/imageStorage.js"></script>
  <script src="src/js/utils/conversationStorage.js"></script>
  <!-- Mobile handling must load at startup for resize listeners -->
  <script src="src/js/utils/mobileHandling.js"></script>
  <script src="src/js/utils/notifications.js"></script>
  <script src="src/js/utils/menuSystem.js"></script>
  <script src="src/js/utils/tooltips.js"></script>
  <script src="src/js/utils/toolLoader.js"></script>
  <script src="src/js/utils/lazyLoader.js"></script>
  <!-- Load components next -->
  <script src="src/js/components/messages.js"></script>
  <script src="src/js/components/settings.js"></script>
  <script src="src/js/components/ui.js"></script>
  <script src="src/js/components/theme.js"></script>
  <script src="src/js/components/interaction.js"></script>
  <script src="src/js/components/tools.js"></script>
  <script src="src/js/components/logo.js"></script>
  <!-- Load service functions -->  
  <script src="src/js/services/tools/definitions.js"></script>
  <script src="src/js/services/apiKeys.js"></script>
  <script src="src/js/services/api.js"></script>
  <script src="src/js/services/streaming.js"></script>
  <script src="src/js/services/history.js"></script>
  <script src="src/js/services/export.js"></script>
  
  <!-- Load initialization code -->
  <!-- Initialize global variables and state first -->
  <script src="src/js/init/globals.js"></script>
  
  <!-- Initialize DOM references -->
  <script src="src/js/init/dom.js"></script>
  
  <!-- Initialize model settings -->
  <script src="src/js/init/modelSettings.js"></script>
  
  <!-- Initialize markdown parser -->
  <script src="src/js/init/marked.js"></script>
  
  <!-- Initialize TTS functionality -->
  <script src="src/js/init/ttsInitialization.js"></script>
  
  <!-- Initialize about tab and crypto donations -->
  <script src="src/js/init/aboutTab.js"></script>
  
  <!-- About popup functionality -->
  <script src="src/js/components/aboutPopups.js"></script>
  
  <!-- Initialize services and models -->
  <script src="src/js/init/services.js"></script>
    <!-- Set up event listeners -->
  <script src="src/js/init/eventListeners.js"></script>
  
  <!-- Main initialization coordinator (must be last) -->
  <script src="src/js/init/initialization.js"></script>


</head>
<body>
  <div id="chat-container">
    <div id="header">
      <div class="branding-row">
        <div id="logo-container">          
          <!-- Stylized SVG logo for Tyumi -->
          <svg id="tyumi-logo" width="56" height="56" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g stroke="var(--accent-color)" stroke-width="1">
              <!-- Logo elements will be generated by logo.js -->
            </g>
          </svg>
        </div>
        <div>
          <h1 id="header-title">Tyumi</h1>
          <div id="model-info" class="prompt-container"></div>
        </div>
      </div>
    </div>
    <button
      id="settings-button"
      aria-expanded="false"
      aria-controls="settings-panel"
      title="Open Settings"
    >
      <img src="src/assets/img/icons/settings.svg" width="18" height="18" alt="settings">
    </button>
    <button
      id="history-button"
      aria-expanded="false"
      aria-controls="history-panel"
      title="Open Chat History"
    >
      <img src="src/assets/img/icons/clock.svg" width="18" height="18" alt="history">
    </button>
    <button
      id="gallery-button"
      aria-expanded="false"
      aria-controls="gallery-panel"
      title="Open Image Gallery"
    >
      <img src="src/assets/img/icons/gallery.svg" width="18" height="18" alt="gallery">
    </button>

    <div id="chat-box" aria-live="polite"></div>

    <div class="input-container">
      <div class="input-wrapper">
        <textarea
          id="user-input"
          placeholder="Type your message here..."
          rows="1"
          aria-label="User input"
        ></textarea>
        <button id="send-button" title="Send message">
          <img class="send-icon" src="src/assets/img/icons/send.svg" width="20" height="20" alt="send">
          <img class="stop-icon" src="src/assets/img/icons/stop.svg" width="20" height="20" alt="stop" style="display: none;">
          <div class="stopping-spinner" style="display: none;">
            <img src="src/assets/img/icons/spinner.svg" width="20" height="20" alt="spinner">
          </div>
        </button>
      </div>
    </div>    
    <div id="menu-panels-container">
      <!-- All menu panels content will be loaded here -->
    </div>
    
  </div>
  </body>
</html>
